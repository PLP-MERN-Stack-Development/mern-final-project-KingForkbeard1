{% extends "base.html" %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Find Your Creative Professional</h1>
            <p>Connect with talented designers, photographers, and fashion experts. Transform your vision into reality.</p>
            <a href="#services" class="btn">Get Started</a>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="container">
            <form class="search-bar" method="GET" action="{{ url_for('home') }}">
                <input type="text" name="search" placeholder="Search for services, designers, photographers..." value="{{ request.args.get('search', '') }}" />
                <button type="submit">Search</button>
            </form>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="services">
        <div class="container">
            <h2 class="section-title">Featured Services</h2>
            <p class="section-subtitle">Discover talented professionals ready to bring your ideas to life</p>

            <div class="services-grid">
                {% for item in items %}
                <div class="service-card">
                    {% if item.image %}
                        <img src="{{ url_for('static', filename='uploads/' + item.image) }}" alt="{{ item.title }}">
                    {% else %}
                        <img src="{{ url_for('static', filename='default-item.jpg') }}" alt="{{ item.title }}">
                    {% endif %}
                    <div class="service-card-content">
                        <h3>{{ item.title }}</h3>
                        <p>{{ item.description }}</p>
                        <p style="font-weight: bold; color: var(--primary-color);">${{ "%.2f"|format(item.price) }}</p>
                        <p style="font-size: 0.9rem; color: var(--text-light); margin: 0.5rem 0;">
                            Posted by: <strong>{{ item.seller.name }}</strong>
                            {% if item.seller.phone %}
                            <br>Phone: {{ item.seller.phone }}
                            {% endif %}
                        </p>
                        <div class="card-buttons">
                            {% if current_user.is_authenticated %}
                                <button class="btn btn-sm btn-primary" onclick="addToCart({{ item.id }})">Add to Cart</button>
                            {% else %}
                                <button class="btn btn-sm btn-primary" onclick="window.location.href='{{ url_for('login') }}'">Login to Add</button>
                            {% endif %}
                            <a href="{{ url_for('contact_seller', item_id=item.id) }}" class="btn btn-sm btn-outline">Contact Seller</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
{% endblock %}

{% block title %}BLACKOUT MARKETPLACE - Find & Hire Professionals{% endblock %}